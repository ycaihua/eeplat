## 基本概念 ##

> 表格元素是组成界面的最小单位。基本的表格元素包括录入框，下拉框，按钮等。 一个表格元素可以包含一个或多个其它的表格元素。表格元素可以表现丰富的、复杂的界面。

> 表格元素和数据的绑定依靠表格元素对应的业务对象属性的名称或表格元素的“重命名”。例如，在平台运行状态下，通过表格元素可以得到一行数据BOInstance，BOInstance 内部是一个MAP，根据上述的名称来获取MAP对应的值，完成了显示页面的数据的绑定。 当提交时，也是根据“名称：值”的键值对提交到业务对象总线上。

> 表格元素的显示由表格元素界面组件控制。平台缺省提供的界面组件最多，在具体应用平台开发过程中，也最需要开发者掌握，也需要平台开发者可以创建新的表格元素界面组件。


## 对应JAVA 数据类型 ##
> com.exedosoft.plat.bo.ui.DOFormModel

## 配置 ##

> 表格元素的配置界面和表格的配置在一起，以列表形式位于表格配置的下面一部分，可以对表格元素修改、设为摘要字段、设为普通字段、设置关联关系、提交作用范围，新增表格元素，删除表格元素，复制表格元素。表格与表格元素之间是一对多的关系。

> ![http://eeplat.googlecode.com/files/grid_main.png](http://eeplat.googlecode.com/files/grid_main.png)

> ### 表格元素的配置界面 ###

> 重命名：如果表格元素没有连接业务属性或者业务对象属性不能满足需要时，需要重命名。参数的名称和重命名的名称一致，参数才可以自动从总线上获取相应的值。

> 连接的服务：在不同的界面组件下，连接的服务的含义不一样，如下拉类的界面组件会在下拉列表显示的时候，执行这个服务，然后填充下拉列表的内容；按钮类的界面组件接受用户的点击操作，然后执行服务。 自定义的界面组件可以赋予“连接的服务”其它的含义。

> 连接的面板：当点击表格元素时，连接的面板。

> 目标面板： 当点击表格元素时，连接的面板展示的位置。

> 是否只读：表格元素是否只读。

> 允许为空：表格元素是否可以为空。

> 是否新行：表格元素是否重启一行。

> 相关配置：不同的界面组件下解释不一样，平台缺省提供的界面组件中：DOInputText 要求输入一个数字表示最文本框的长度。DOTextArea要求输入以;分割的两个数字，前一个数字表示文本域的宽度，后一个数字表示文本域的高度。DOStaticList、DOValueStaticList和DOInputRadio要求录入  “1,男;2,女”  这种格式的键值对的字符串，用于存储和显示。以TService开头的界面组件，“closeTab” 表示执行后关闭Tab页，“loadParent”表示刷新树的上层。

> 相关约束：不同的界面组件下解释不一样，平台缺省提供的界面组件中：以TService开头的界面组件，“noCloseOpener ” 表示执行后并不关闭弹出窗口。DOStaticList，“@multi@” 表示 以List方式显示，并支持多选。以DatePicker为开头的界面组件，表示对日期进行格式化，如{dateFmt:'yyyy-M-d'}。在DOResultListPopup中，可以定义当进行选中后清除后面下拉表的值，并且只要定义了相关约束整个form的值都会提交到总线上。 可以在自己的界面组件中定义自己的用法。

> 表格外：指表格元素位于主体表格之外，有下面几类：

> OUTGRID\_INLINE：内联，表示嵌入在其它表格元素里面。

> OUTGRID\_BOTTOM：位于主体表格下面。

> OUTGRID\_TOP：位于主体表格上面。

> OUTGRID\_RIGHT：位于主体表格右面。

> OUTGRID\_LEFT：位于主题表格左面。

> OUTGRID\_STATISTIC：统计列。

> 校验类型：格式为 类型;长度;扩展脚本  类型支持

  1. Email E-MAIL格式
  1. Url  Url地址格式
  1. Integer整数类型
  1. RealNumber 数字类型
  1. IDCard 身份证
  1. MoBile 手机格式
  1. Telphone 固定电话
  1. NoChin 不能含有汉字
  1. NoSBCDot 不能还有全角字符和

> 如果不限制类型只限制长度，如;5  则表示长度不能超过5。


> 条件类型：java 和 javascript 两种。

> 条件：根据条件类型，java的情况需要实现com.exedosoft.palt.IsAccess接口，javascript 最后一行需要返回true 或 false。

> 是否过滤：是否进行权限过滤，和条件有些类型，但是条件片中业务逻辑的判定，是否过滤偏重权限过滤。

> 连接的第二服务：某些界面组件需要模型配置两个服务，如果需要大于2个服务的情况，请使用内联表格元素。

> 排序标示：表格元素在界面上的排列顺序。

> 字体：对字体进行格式化。

> NAME COLSPAN：对表格元素的标题进行td合并。

> VALUE COLSPAN ：对表格元素的值进行td合并。

> 图片：表格元素需要图片支持。

> 隐藏域：表格元素是否是隐藏域。

> 格式化：对录入的值进行格式化。

> CSS风格：表格元素的CSS风格。

> 表达式：表格元素需要表达式的计算结果。

> 点击执行的JS： 用户点击时触发的事件，常用来触发自定义事件，缺省界面组件用TJavaScript或TAJavaScript。

> 确认JS：用户点击后，需要和用户完成一次确认交互（confirm）。

> 键入时JS：用户录入时，相应的JS。

> 双击时JS：用户双击操作时，相应的JS。

> 获得焦点时JS：表格元素获得焦点时，相应的JS。

> 失去焦点时JS：表格元素失去焦点时，相应的JS。

> 有效性验证JS：表格元素录入完后，或表单提交时，需要验证表格元素的有效性的JS。

备注：一般作为录入提示。



> ![http://eeplat.googlecode.com/files/form_modi1.png](http://eeplat.googlecode.com/files/form_modi1.png)
> ![http://eeplat.googlecode.com/files/form_modi2.png](http://eeplat.googlecode.com/files/form_modi2.png)


> ### 设为摘要字段、设为普通字段 ###

> 在表单视图下，如果表单数量太多，默认只显示重要的表单，即设为“摘要字段”。用户可以通过点击“更多”的按钮显示其它字段，这些字段我们称之为“普通字段”。

> 这个特性是否支持，需要看表格界面组件说明，平台缺省提供的grid.GridSupportMore  支持这种特性。

> ### 设置关联关系 ###

> 表格元素可能还要关联其它的表格元素（位于同一个表格下面），这样表格元素通过界面组件可以表达更复杂的界面，如在配置平台中常用的选择器（如服务选择器），由业务包 + 业务对象 + 服务 三个下拉列表构成，是通过一个选择器表格元素关联三个下拉列表的表格元素实现的。下图为“name”表格元素关联其它的表格元素。

> ![http://eeplat.googlecode.com/files/form_relation.png](http://eeplat.googlecode.com/files/form_relation.png)


> ### 提交作用范围 ###

> 提交作用范围只针对“向后台提交”的按钮或超链接。当按钮或超链接向后台提交时，默认提交的数据只是它们所在的表格的数据，如果还需要提交其它表格的数据，那么就需要设置提交作用范围，设置时通过表格选择器，选择本表格和需要提交的其他表格。

> ![http://eeplat.googlecode.com/files/form_target.png](http://eeplat.googlecode.com/files/form_target.png)

> ### 复制 ###

> 可以把一个或多个表格元素选中，复制到其它表格中去，也可以复制到本表格中实现“新增”的功能，复制后的表格元素经过修改后便成为一个“新的表格元素”。在创建新的表格元素时，推荐使用复制后修改，这样可以减少配置项的录入。

> ![http://eeplat.googlecode.com/files/form_copyto.png](http://eeplat.googlecode.com/files/form_copyto.png)

> ### 权限设置 ###
> 设置表格元素的过滤角色，定义的角色将在相关表格中看不到该表格元素。同时需要在表格元素的设置界面的是否过滤，设置为权限表。


