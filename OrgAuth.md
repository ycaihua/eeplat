# 权限基础 #

> 权限分为两类权限：功能权限和数据权限。

这些权限都可以在线配置。

> ## 功能权限 ##

> 功能权限在平台中分为菜单权限和操作权限(一般通过按钮或链接失效，如增加、删除、修改的权限；申请、通过的权限等)。菜单权限的配置可以通过两个地方，除了[组织权限简介](OrgParter.md)中的方法外，还可以通过角色设置。

> 另外面板的可见性也可以通过面板连接的脚本来定义面板的可见性。

> 业务对象属性的权限和操作权限的定义类似。

> ## 数据权限 ##

> 数据权限又可分为连续数据权限、离散数据权限、条件数据权限。

  1. 离散数据权限，可以设置到每行记录(列权限即对象属性在EEPlat为功能权限)。
  1. 连续数据权限，每个角色可以看到不同的相关数据。例如部门负责人只看到本部门的，可以更复杂。
  1. 条件数据权限， 在一定条件下，这个条件是和某数据项相关的，才能看到其它的数据项。


# 权限表 #

> 权限存储有三个表：
> ## do\_authorization ##
> > 系统的所有的授权信息基本都存在这个表中，提供了 who - where - what - how 的权限模型。

  1. who  给谁赋权，对应于组织定义的 parter
  1. where 在什么环境下，权限才生效，系统提供了两种情况，1）在某个业务对象下面； 2） 在某个业务对象的实例下面
  1. how 正向授权或反向授权   默认情况下是正向授权，不推荐使用反向授权
  1. what 赋权对象，具体有：
  * WHAT\_APPLICATION = 2  工程
  * WHAT\_BP = 5 业务包
  * WHAT\_UI\_PANE = 11  面板
  * <b> WHAT_UI_MENU = 16 </b> 菜单 _常用_
  * WHAT\_UI\_FORM = 18 表格元素  _有时使用_
  * WHAT\_BOINSTANCE = 20  记录级别  _有时使用_
  * WHAT\_WF\_PT = 100  工作流模板
  * WHAT\_WF\_NODE = 110 工作流模板节点
  * WHAT\_WF\_NODEINSTANCE = 111 工作流实例节点



> ## do\_auth\_suite ##
> > 权限组合，一般以把多个被授权元素打包在一起，例如菜单和表格元素打包在一起，这样可以减少授权的复杂度。 _很少使用_


> ## do\_auth\_owner ##
> > 资源的所有者权限 _很少使用_